<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lottie Preview</title>

  <!-- Абсолютные пути важны для коротких ссылок /s/:id -->
  <link rel="stylesheet" href="/style.css?v=57">
  <!-- Если нет favicon.ico — можно убрать следующую строку -->
  <!-- <link rel="icon" href="/favicon.ico"> -->

  <!-- (необязательно) улучшение для A2HS на iOS/Android -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
</head>
<body>
  <div id="wrapper">

    <header class="toolbar">
      <div class="left">
        <strong>Lottie Preview</strong>
        <span id="ver" class="muted"></span>
      </div>

      <div class="right controls" id="controls">
        <label><input type="checkbox" id="loopChk"> loop</label>
        <label><input type="checkbox" id="autoplayChk" checked> autoplay</label>

        <select id="sizeSel">
          <option value="fit">Fit</option>
          <option value="fill">Fill</option>
        </select>

        <label><input type="checkbox" id="wideChk"> wide</label>
        <label><input type="checkbox" id="fullHChk"> fullH</label>

        <!-- Новые кнопки выбора файлов -->
        <button id="btnBg" type="button" title="Выбрать PNG/JPG">Загрузить фон</button>
        <button id="btnLottie" type="button" title="Выбрать Lottie JSON">Загрузить Lottie</button>

        <!-- Шеринг -->
        <button id="shareBtn" type="button">Поделиться</button>
        <input id="shareOut" type="text" readonly placeholder="ссылка появится здесь" />
      </div>
    </header>

    <main id="preview">
      <div id="previewBox">
        <!-- Слой для Lottie и фона -->
        <div id="lottieBox" class="lottie-box">
          <img id="bgImg" alt="" />
        </div>

        <!-- Плейсхолдер -->
        <div id="ph" class="placeholder">
          Перетащите PNG/JPG или Lottie JSON сюда, либо вставьте из буфера.
        </div>

        <!-- Скрытые инпуты (под кнопки) -->
        <input id="bgFile" type="file" accept="image/png,image/jpeg" hidden />
        <input id="lotFile" type="file" accept="application/json,.json,text/plain" hidden />
      </div>
    </main>

  </div>

  <div id="toast" class="toast"></div>

  <!-- Точка входа ES-модулей -->
  <script type="module" src="/src/app/main.js?v=58"></script>
</body>
</html>
